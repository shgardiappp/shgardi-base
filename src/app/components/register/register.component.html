<div class="error-message-container">
    <i class="fas fa-times-circle mr-2"></i>    
    <span>{{errorMessage}}</span>
</div>


<div class="w-75 m-auto py-5">

    <h3 class="my-3">Resigtration </h3>

    <form [formGroup]='registerForm'
        (ngSubmit)='submitRegisterForm(registerForm)'>


        <div class="form-group">
            <label for="first_name">First name</label>
            <input [class.is-valid]="registerForm.get('first_name')?.status=='VALID'" formControlName='first_name' class="form-control" type="text"
                id="first_name">

            <div *ngIf='registerForm.get("first_name")?.errors != null && registerForm.get("first_name")?.touched' class="error my-2">
                <p *ngIf="registerForm.get('first_name')?.errors?.required != null"> First name is required </p>
                <p *ngIf="registerForm.get('first_name')?.errors?.minlength != null"> First name minimum length is 3 </p>
                <p *ngIf="registerForm.get('first_name')?.errors?.maxlength != null"> First name maximum length is 10 </p>
            </div>
        </div>


        <div class="form-group">
            <label for="last_name">Last name</label>
            <input [class.is-valid]="registerForm.get('last_name')?.status=='VALID'" formControlName='last_name' class="form-control" type="text"
                id="last_name">

            <div *ngIf='registerForm.get("last_name")?.errors != null && registerForm.get("last_name")?.touched' class="error my-2">
                <p *ngIf="registerForm.get('last_name')?.errors?.required != null">Last name is required</p>
                <p *ngIf="registerForm.get('last_name')?.errors?.minlength != null">Last name minimum length is 3</p>
                <p *ngIf="registerForm.get('last_name')?.errors?.maxlength != null">Last name maximum length is 10</p>
            </div>
        </div>


        <div class="form-group">
            <label for="age">Age</label>
            <input [class.is-valid]="registerForm.get('age')?.status=='VALID'" formControlName='age' class="form-control" type="number"
                id="age">

                <div *ngIf='registerForm.get("age")?.errors != null && registerForm.get("age")?.touched' class="error my-2">
                    <p *ngIf="registerForm.get('age')?.errors?.required != null">Age is required</p>
                    <p *ngIf="registerForm.get('age')?.errors?.min != null">Age minimum is 18</p>
                    <p *ngIf="registerForm.get('age')?.errors?.max != null">Age maximum is 45</p>
                </div>
        </div>


        <div class="form-group">
            <label for="email">Email Address</label>
            <input [class.is-valid]="registerForm.get('email')?.status=='VALID'" formControlName='email' class="form-control" type="email"
                id="email">

            <div *ngIf='registerForm.get("email")?.errors != null && registerForm.get("email")?.touched' class="error my-2">
                <p *ngIf="registerForm.get('email')?.errors?.required != null">Email Address is required</p>
                <p *ngIf="registerForm.get('email')?.errors?.email != null">Email Address is invalid</p>
            </div>
        </div>





        <div class="form-group">
            <label for="password">Password</label>
            <input [class.is-valid]="registerForm.get('password')?.status=='VALID'" formControlName='password' class="form-control"
                type="password" id="password">

            <div *ngIf='registerForm.get("password")?.errors != null && registerForm.get("password")?.touched' class="error my-2">
                <p *ngIf="registerForm.get('password')?.errors?.required != null">Password is required</p>
                <p *ngIf="registerForm.get('password')?.errors?.pattern != null">Password minmimum length is 8</p>
                <p *ngIf="registerForm.get('password')?.errors?.pattern != null">Password must begin with upper case letter and contain lower
                    case or upper case letters
                    and contain one
                    special character '@ , $ , % , # , &'
                </p>
            </div>
        </div>


        <div class="d-flex justify-content-center">
        <button [disabled]='registerForm.invalid' class="btn my-4 py-2 w-25" type="submit">
            <span *ngIf="!isLoading">Register</span>
            <div *ngIf="isLoading" class="spinner-border">
            </div>
        </button>
        </div>

    </form>

</div>